"use strict";!function(i){var n="",e="",t="",o=!1,a=767,s="";(n=n||{}).fn={init:function(){n.fn.submenu(),n.fn.slider(),n.fn.header(),n.fn.imagenesFondo(),n.fn.galerias(),n.fn.tabs(),n.fn.globalEvents(),n.fn.selectResort(),n.fn.formsValidation(),n.fn.search()},submenu:function(){i(window).width()>a&&i(".menu > li").hover(function(){i(this).find(".submenu").show();i('<div class="area-activa"></div>').appendTo(this),i(this).find(".triangulo").is(":visible")&&i(this).find(".triangulo").css({left:i(this).find(".triangulo").parent().parent().offset().left+i(this).find(".triangulo").parent().parent().find("> a").width()/2-14})},function(){i(".submenu").hide(),i(".area-activa").remove()}),i(window).width()<=a&&i("li.down").on("click",function(){i(this).hasClass("open")?i(this).removeClass("open"):(i("li.down").removeClass("open"),i(this).addClass("open"))})},slider:function(){i(".bloque-slider.flexslider").append('<div class="volumenVideo" id="volumenVideo"></div>'),i(".flexslider.bloque-slider").flexslider({controlNav:!1,animation:"fade",prevText:"",nextText:"",touch:!0,slideshow:!1,start:function(){i(".bloque-slider.flexslider iframe").is(":visible")&&(e=document.querySelector(".container-video iframe"),(t=new Vimeo.Player(e)).setVolume(0),i(".volumenVideo").click(function(){0==o?(i(this).addClass("activado"),t.setVolume(1),o=!0):(i(this).removeClass("activado"),t.setVolume(0),o=!1)}),i(".flex-active-slide .container-video").is(":visible")&&(t.play(),i(".volumenVideo").fadeIn(),t.on("ended",function(e){i(".bloque-slider.flexslider").flexslider("next"),i(".volumenVideo").fadeOut()})))},before:function(){1<=i(".flex-active-slide .container-video").length&&(t.pause(),i(".volumenVideo").fadeOut())},after:function(){i(".flex-active-slide .container-video").is(":visible")&&(t.play(),i(".volumenVideo").fadeIn(),t.on("ended",function(e){i(".bloque-slider.flexslider").flexslider("next"),i(".volumenVideo").fadeOut()}))}}),i(".bloque-slider-interna.flexslider").flexslider({controlNav:!0,animation:"fade",prevText:"",nextText:"",touch:!0,slideshow:!1}),i(".flexslider").flexslider(),i(".owl-carousel").owlCarousel()},header:function(){30<=i(document).scrollTop()?i("header.header").addClass("transform"):i("header.header").removeClass("transform"),i("#brand-type").change(function(){var e=i(this).val(),t=i("#number-rooms").val();i.ajax({type:"POST",url:"/get/resorts",data:{marca:e,rooms:t,lg:Drupal.settings.mice_config.language},success:function(e){console.log(e),0!=e?i("#filter-content-resorts").html(e):(console.log("no results"),i("#filter-content-resorts").html("No results"))}})}),i("#number-rooms ").change(function(){var e=i("#brand-type").val(),t=i(this).val();i.ajax({type:"POST",url:"/get/resorts",data:{marca:e,rooms:t,lg:Drupal.settings.mice_config.language},success:function(e){console.log(e),0!=e?i("#filter-content-resorts").html(e):i("#filter-content-resorts").html("No Results")}})})},search:function(){i(".search-results.node-results").addClass("container"),i("#buscador").submit(function(e){var t=i("#parametro_search").val();window.location.href="/search/node/"+t,e.preventDefault()})},selectResort:function(){n.fn.changeResort(i(".info-resorts li")[0]);for(var e=i(".info-resorts li"),t=0;t<e.length;t++){var o=e[t];i("select#select-resort").append('<option value="'+i(o).attr("data-id")+'">'+i(o).find(".subtitulo-h2").html()+"</option>")}i("select#select-resort").selectpicker(),jQuery("#select-resort").change(function(){var e=jQuery(this).val();jQuery.ajax({type:"POST",url:"/send/resort",data:{tid:e},success:function(e){if(0!=e){var t=JSON.parse(e);jQuery(".content-img").html(t["content-img"]),jQuery(".box > a").remove(),jQuery(".box").append(t.box),jQuery(".info-resorts").html(t["info-resorts"]),n.fn.changeResort(i(".info-resorts li")[0])}}})})},changeResort:function(e){var t=e;i(".front .bloque-content3 .content-info h4").html(i(t).find(".subtitulo-h4").html()),i(".front .bloque-content3 .content-info h2").html(i(t).find(".subtitulo-h2").html()),i(".front .bloque-content3 .content-info h3").html(i(t).find(".subtitulo-h3").html()),i(".front .bloque-content3 .content-info p").html(i(t).find(".text").html()),i(".front .bloque-content3 .content-info a").attr("href",i(t).find(".link").html()),i(".front .bloque-content3 .content-img").css({"background-image":"url("+i(t).find("img.img-background").attr("src")+")"})},formsValidation:function(){i("#newsletter-form").parsley(),i("#edit-submitted-f3-city").selectpicker({title:"City*"}),i("#edit-submitted-f3-country").selectpicker(),i("#edit-submitted-f4-state").selectpicker({title:"State*"}),i("#edit-submitted-f12-purpose").selectpicker({title:"Purpose of Meeting"}),i(".bloque-form .form-actions").addClass("submit"),i("#edit-submitted-f12-number-rooms").attr("data-parsley-type","number"),i("#edit-submitted-f12-number-rooms").attr("maxlength","5"),i("#edit-submitted-f12-number-rooms").attr("required","required"),i("#edit-submitted-f12-number-rooms").attr("data-parsley-min","1"),i("#edit-submitted-f7-number-of-attendees").attr("data-parsley-type","number"),i("#edit-submitted-f7-number-of-attendees").attr("maxlength","5"),i("#edit-submitted-f7-number-of-attendees").attr("required","required"),i("#edit-submitted-f2-phone").attr("data-parsley-type","number"),i("#edit-submitted-f2-phone").attr("data-parsley-maxlength","10"),i("#edit-submitted-f2-phone").removeAttr("maxlength"),s=i("body").hasClass("i18n-es")?"es":"en",i(".date_inputs").datepicker({autoclose:!0,language:s,disableTouchKeyboard:!0,format:"yyyy-mm-dd",immediateUpdates:!0,startDate:"today",endDate:"+2y"}).on("changeDate",function(e){"check_in_input"===e.currentTarget.id?(n.fn.checkInDate(e),n.fn.checkOutDate(e)):"check_out_input"===e.currentTarget.id&&e.format("yyyy-mm-dd")}).on("hide",function(){""==i(".check_in_input").val()&&i(".check_out_input").val("")}),i(".bloque-form form").is(":visible")&&(i(".bloque-form .webform-component--f10").append('<div id="container-error-resorts"></div>'),i(".bloque-form .webform-component--f10 #edit-submitted-f10-resorts-1").attr("data-parsley-mincheck","1"),i(".bloque-form .webform-component--f10 #edit-submitted-f10-resorts-1").attr("data-parsley-maxcheck","3"),i(".bloque-form .webform-component--f10 #edit-submitted-f10-resorts-1").attr("data-parsley-errors-container","#container-error-resorts"),i(".bloque-form .webform-component--f10 .form-checkbox").attr("data-parsley-multiple","resorts"),i(".bloque-form .webform-component--f10 #edit-submitted-f10-resorts-1").attr("required","required"),i(".bloque-form form").parsley().on("field:success",function(){for(var e=i(".bloque-form form select"),t=0;t<=e.length;t++){var o=e[t];i(o).hasClass("parsley-error")?i(o).siblings("button").addClass("parsley-error"):i(o).siblings("button").removeClass("parsley-error")}})),i("#edit-submitted-f10-resorts .form-type-checkbox").addClass("col-md-6 col-sm-6 col-xs-12"),i(".filters select").selectpicker(),i("#newsletter-form").submit(function(e){var t=i("#email_news").val(),o=i("#chek-terms").is(":checked")?1:0,n=i("#chek-sing").is(":checked")?1:0;jQuery.ajax({type:"POST",url:"/send/newsletter",data:{email_newsletter:t,chebox_Terms:o,chebox_sing:n},success:function(e){1==e&&(i("#respuesta").css("display","block"),i("#newsletter-form").css("display","none"),i("#suscribe-title").css("display","none"))}}),e.preventDefault()}),i(".bloque-table .table tbody td, .bloque-table .table thead th").css({width:90/(i(".table").attr("data-column")-1)+"%"}),i(".bloque-table .table td a").append("<span></span>")},checkInDate:function(e){var t;e.format("yyyy-mm-dd"),t=i(e.currentTarget).datepicker("getDate","+1d"),i(".check_in_input").each(function(e){i(".check_in_input").eq(e).val(" ").datepicker("update",t)})},checkOutDate:function(e){var t="",o="";t=i(e.currentTarget).datepicker("getDate","+1d"),i(".book__form").hasClass("is--flight")?t.setDate(t.getDate()+7):t.setDate(t.getDate()+5),(o=new Date(e.date.valueOf())).setDate(o.getDate()+1),i(".check_out_input").each(function(e){i(".check_out_input").eq(e).val(" ").datepicker("setStartDate",o).datepicker("update",t)}),i(".check_out_input").eq(0).val()},imagenesFondo:function(){for(var e=i(".img-background"),t=0;t<e.length;t++){var o=e[t];i(o).parent().css({"background-image":"url("+i(o).attr("src")+")"})}},galerias:function(){i(".grid").masonry({itemSelector:".grid-item",percentPosition:!0}),i("[data-fancybox]").fancybox({loop:!0,buttons:["close"]})},tabs:function(){i(".bloque-tabs").is(":visible")&&i(".bloque-tabs header ul li").click(function(){i(this).parent().find("li").removeClass("active"),i(this).addClass("active"),i(this).parent().parent().parent().find(".container-tabs > div").removeClass("active"),i(this).parent().parent().parent().find(".container-tabs").find("."+i(this).attr("data-media")).addClass("active");var e=i(this).parent().parent().parent().find(".container-tabs").find("."+i(this).attr("data-media")).offset().top;i(window).width()<a&&i("html, body").animate({scrollTop:e},800),i(".grid").masonry({itemSelector:".grid-item",percentPosition:!0}),i(".fancybox").fancybox(),i(".fancybox-media").fancybox({helpers:{media:{}}})}),i(".bloque-mach").is(":visible")&&i(".bloque-mach ul li").click(function(){i(".bloque-mach ul li").removeClass("active"),i(this).addClass("active"),i(".box-answer .triangulo").css({left:i(this).offset().left+i(this).width()/2-31}),i(".box-answer").removeClass("active"),i('section[data-id="'+i(this).attr("id")+'"]').addClass("active")})},clickEvents:function(){i(".icon-menu").on("click",function(){i(".container-header nav").addClass("right")}),i("#closeMenu").on("click",function(){i(".container-header nav").removeClass("right")}),i(".close-back").on("click",function(){i(".container-header nav").removeClass("right")}),i(".collapse").on("hide.bs.collapse",function(){i(".read_more .more").show(),i(".read_more .less").hide()}),i(".collapse").on("show.bs.collapse",function(){i(".read_more .more").hide(),i(".read_more .less").show()}),i(".search_desktop").on("click",function(){i(".search_input").addClass("visible")}),i(".search_input .close").on("click",function(){i(".search_input").removeClass("visible")}),i(".btn-plano3d").on("click",function(){var e=i(this).attr("data-url"),t=i(this).attr("data-title");n.fn.PopupWindowCenter(e,t,1110,735)})},PopupWindowCenter:function(e,t,o,n){var i=screen.width/2-o/2,a=screen.height/2-n/2;window.open(e,t,"toolbar=no, location=no,directories=no, status=no, menubar=no, scrollbars=no, resizable=no,copyhistory=no, width="+o+",   height="+n+", top="+a+", left="+i)},globalEvents:function(){n.fn.clickEvents()}},n.documentOnReady={init:function(){n.fn.init()}},n.documentOnLoad={init:function(){i(".box-answer .triangulo").is(":visible")&&i(".box-answer .triangulo").css({left:i(".bloque-mach ul li.active").offset().left+i(".bloque-mach ul li.active").width()/2-31}),i(".grid").masonry({itemSelector:".grid-item",percentPosition:!0}),i("[data-fancybox]").fancybox({loop:!0,buttons:["close"]})}},n.documentOnResize={init:function(){i(window).width()<=a&&(i(".bloque-booking").removeClass("vertical"),i(".bloque-booking").removeClass("visible")),i(window).width()<=a?(i(".bloque-boxes .boxes-images").addClass("owl-carousel").addClass("owl-theme"),i(".bloque-boxes .boxes-images").owlCarousel({items:1,margin:0,nav:!1,dots:!0})):(i(".bloque-boxes .boxes-images").removeClass("owl-carousel").removeClass("owl-theme"),i(".bloque-boxes .boxes-images").owlCarousel("destroy")),i(".box-answer .triangulo").is(":visible")&&i(".box-answer .triangulo").css({left:i(".bloque-mach ul li.active").offset().left+i(".bloque-mach ul li.active").width()/2-31})}},n.documentOnScroll={init:function(){30<=i(document).scrollTop()?i("header.header").addClass("transform"):i("header.header").removeClass("transform")}},n.run={init:function(){i(document).on("ready",n.documentOnReady.init),i(window).on("load",n.documentOnLoad.init),i(window).on("resize",n.documentOnResize.init),i(window).on("scroll",n.documentOnScroll.init)}},n.run.init()}($);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsIk1DIiwiaWZyYW1lIiwicGxheWVyIiwiYWN0aXZhZG8iLCJhbmNob01vYmlsZSIsImxhbiIsImZuIiwiaW5pdCIsInN1Ym1lbnUiLCJzbGlkZXIiLCJoZWFkZXIiLCJpbWFnZW5lc0ZvbmRvIiwiZ2FsZXJpYXMiLCJ0YWJzIiwiZ2xvYmFsRXZlbnRzIiwic2VsZWN0UmVzb3J0IiwiZm9ybXNWYWxpZGF0aW9uIiwic2VhcmNoIiwid2luZG93Iiwid2lkdGgiLCJob3ZlciIsInRoaXMiLCJmaW5kIiwic2hvdyIsImFwcGVuZFRvIiwiaXMiLCJjc3MiLCJsZWZ0IiwicGFyZW50Iiwib2Zmc2V0IiwiaGlkZSIsInJlbW92ZSIsIm9uIiwiaGFzQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwiYXBwZW5kIiwiZmxleHNsaWRlciIsImNvbnRyb2xOYXYiLCJhbmltYXRpb24iLCJwcmV2VGV4dCIsIm5leHRUZXh0IiwidG91Y2giLCJzbGlkZXNob3ciLCJzdGFydCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIlZpbWVvIiwiUGxheWVyIiwic2V0Vm9sdW1lIiwiY2xpY2siLCJwbGF5IiwiZmFkZUluIiwiZGF0YSIsImZhZGVPdXQiLCJiZWZvcmUiLCJsZW5ndGgiLCJwYXVzZSIsImFmdGVyIiwib3dsQ2Fyb3VzZWwiLCJzY3JvbGxUb3AiLCJjaGFuZ2UiLCJtYXJjYSIsInZhbCIsInJvb21zIiwiYWpheCIsInR5cGUiLCJ1cmwiLCJsZyIsIkRydXBhbCIsInNldHRpbmdzIiwibWljZV9jb25maWciLCJsYW5ndWFnZSIsInN1Y2Nlc3MiLCJjb25zb2xlIiwibG9nIiwiaHRtbCIsInN1Ym1pdCIsImV2ZW50IiwidmFsb3IiLCJsb2NhdGlvbiIsImhyZWYiLCJwcmV2ZW50RGVmYXVsdCIsImNoYW5nZVJlc29ydCIsInJlc29ydHMiLCJpIiwicmVzb3J0IiwiYXR0ciIsInNlbGVjdHBpY2tlciIsImpRdWVyeSIsInRpZCIsImRhdG9zIiwiSlNPTiIsInBhcnNlIiwibmV3UmVzb3J0IiwiYmFja2dyb3VuZC1pbWFnZSIsInBhcnNsZXkiLCJ0aXRsZSIsInJlbW92ZUF0dHIiLCJkYXRlcGlja2VyIiwiYXV0b2Nsb3NlIiwiZGlzYWJsZVRvdWNoS2V5Ym9hcmQiLCJmb3JtYXQiLCJpbW1lZGlhdGVVcGRhdGVzIiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsImN1cnJlbnRUYXJnZXQiLCJpZCIsImNoZWNrSW5EYXRlIiwiY2hlY2tPdXREYXRlIiwic2VsZWN0cyIsInNlbGVjdCIsInNpYmxpbmdzIiwibWFpbCIsImNoZWJveFRlcm1zIiwiY2hlYm94U2luZyIsImVtYWlsX25ld3NsZXR0ZXIiLCJjaGVib3hfVGVybXMiLCJjaGVib3hfc2luZyIsImUiLCJkYXRlSW4iLCJlYWNoIiwiZXEiLCJkYXRlT3V0IiwibWluRGF0ZSIsInNldERhdGUiLCJnZXREYXRlIiwiRGF0ZSIsImRhdGUiLCJ2YWx1ZU9mIiwiaW1hZ2VzIiwiaW1hZ2UiLCJtYXNvbnJ5IiwiaXRlbVNlbGVjdG9yIiwicGVyY2VudFBvc2l0aW9uIiwiZmFuY3lib3giLCJsb29wIiwiYnV0dG9ucyIsImFsdG8iLCJ0b3AiLCJhbmltYXRlIiwiaGVscGVycyIsIm1lZGlhIiwiY2xpY2tFdmVudHMiLCJlbmxhY2UiLCJQb3B1cFdpbmRvd0NlbnRlciIsIlVSTCIsInciLCJoIiwic2NyZWVuIiwiaGVpZ2h0Iiwib3BlbiIsImRvY3VtZW50T25SZWFkeSIsImRvY3VtZW50T25Mb2FkIiwiZG9jdW1lbnRPblJlc2l6ZSIsIml0ZW1zIiwibWFyZ2luIiwibmF2IiwiZG90cyIsImRvY3VtZW50T25TY3JvbGwiLCJydW4iXSwibWFwcGluZ3MiOiJBQU1BLGNBQ0EsU0FBQUEsR0FFQSxJQUFBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxHQUFBLEVBS0FDLEVBQUEsSUFDQUMsRUFBQSxJQUlBTCxFQUFBQSxHQUFBLElBRUFNLEdBQUEsQ0FDQUMsS0FBQSxX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RUFBQSwrQkFBQTRELFlBQUEsQ0FDQWdHLE1BQUEsRUFDQUMsT0FBQSxFQUNBQyxLQUFBLEVBQ0FDLE1BQUEsTUFHQS9KLEVBQUEsK0JBQUFtQyxZQUFBLGdCQUFBQSxZQUFBLGFBQ0FuQyxFQUFBLCtCQUFBNEQsWUFBQSxZQUdBNUQsRUFBQSwwQkFBQTBCLEdBQUEsYUFDQTFCLEVBQUEsMEJBQUEyQixJQUFBLENBQ0FDLEtBQUE1QixFQUFBLDZCQUFBOEIsU0FBQUYsS0FBQTVCLEVBQUEsNkJBQUFvQixRQUFBLEVBQUEsT0FNQW5CLEVBQUErSixpQkFBQSxDQUNBeEosS0FBQSxXQUVBLElBQUFSLEVBQUE4QyxVQUFBZSxZQUNBN0QsRUFBQSxpQkFBQW9DLFNBQUEsYUFFQXBDLEVBQUEsaUJBQUFtQyxZQUFBLGVBTUFsQyxFQUFBZ0ssSUFBQSxDQUNBekosS0FBQSxXQUNBUixFQUFBOEMsVUFBQWIsR0FBQSxRQUFBaEMsRUFBQXdKLGdCQUFBakosTUFDQVIsRUFBQW1CLFFBQUFjLEdBQUEsT0FBQWhDLEVBQUF5SixlQUFBbEosTUFDQVIsRUFBQW1CLFFBQUFjLEdBQUEsU0FBQWhDLEVBQUEwSixpQkFBQW5KLE1BQ0FSLEVBQUFtQixRQUFBYyxHQUFBLFNBQUFoQyxFQUFBK0osaUJBQUF4SixRQUlBUCxFQUFBZ0ssSUFBQXpKLE9BeG5CQSxDQTBuQkFSIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXHJcblx0QXV0aG9yOiBKZWhpc29uIFBlcmV6XHJcblx0Q3JlYXRpb24gZGF0ZTogc2VwdGVtYmVyIG9mIDIwMTdcclxuXHRQcm9qZWN0IG5hbWU6IHdlZGRpbmdzXHJcblx0RmlsZSBuYW1lOiBtYWluLmpzXHJcbiovXHJcbid1c2Ugc3RyaWN0JztcclxuKGZ1bmN0aW9uICgkKSB7XHJcblxyXG4gIHZhciBNQyA9ICcnLFxyXG4gICAgaWZyYW1lID0gJycsXHJcbiAgICBwbGF5ZXIgPSAnJyxcclxuICAgIGFjdGl2YWRvID0gZmFsc2UsXHJcbiAgICBhbmNob0Rlc2t0b3BNYXggPSAxOTIwLFxyXG4gICAgZm9ybUhlYWRlclJlYWR5ID0gdHJ1ZSxcclxuICAgIGFuY2hvRGVza3RvcCA9IDEyMDAsXHJcbiAgICBhbmNob1RhYmxldCA9IDk5MixcclxuICAgIGFuY2hvTW9iaWxlID0gNzY3LFxyXG4gICAgbGFuID0gJycsXHJcbiAgICBjaGVja091dCA9ICcnLFxyXG4gICAgY2hlY2tJbiA9ICcnO1xyXG5cclxuICBNQyA9IE1DIHx8IHt9O1xyXG5cclxuICBNQy5mbiA9IHtcclxuICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7XHJcblxyXG4gICAgICBNQy5mbi5zdWJtZW51KCk7XHJcbiAgICAgIE1DLmZuLnNsaWRlcigpO1xyXG4gICAgICBNQy5mbi5oZWFkZXIoKTtcclxuICAgICAgTUMuZm4uaW1hZ2VuZXNGb25kbygpO1xyXG4gICAgICBNQy5mbi5nYWxlcmlhcygpO1xyXG4gICAgICBNQy5mbi50YWJzKCk7XHJcbiAgICAgIE1DLmZuLmdsb2JhbEV2ZW50cygpO1xyXG4gICAgICBNQy5mbi5zZWxlY3RSZXNvcnQoKTtcclxuICAgICAgTUMuZm4uZm9ybXNWYWxpZGF0aW9uKCk7XHJcbiAgICAgIE1DLmZuLnNlYXJjaCgpO1xyXG4gICAgfSxcclxuXHJcbiAgICBzdWJtZW51OiBmdW5jdGlvbiBzdWJtZW51KCkge1xyXG5cclxuICAgICAgaWYgKCQod2luZG93KS53aWR0aCgpID4gYW5jaG9Nb2JpbGUpIHtcclxuICAgICAgICAkKCcubWVudSA+IGxpJykuaG92ZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgJCh0aGlzKS5maW5kKCcuc3VibWVudScpLnNob3coKTtcclxuXHJcbiAgICAgICAgICB2YXIgYXJlYUFjdGl2YSA9ICc8ZGl2IGNsYXNzPVwiYXJlYS1hY3RpdmFcIj48L2Rpdj4nO1xyXG4gICAgICAgICAgJChhcmVhQWN0aXZhKS5hcHBlbmRUbyh0aGlzKTtcclxuXHJcbiAgICAgICAgICBpZiAoJCh0aGlzKS5maW5kKCcudHJpYW5ndWxvJykuaXMoXCI6dmlzaWJsZVwiKSkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLmZpbmQoJy50cmlhbmd1bG8nKS5jc3Moe1xyXG4gICAgICAgICAgICAgIGxlZnQ6ICQodGhpcykuZmluZCgnLnRyaWFuZ3VsbycpLnBhcmVudCgpLnBhcmVudCgpLm9mZnNldCgpLmxlZnQgKyAkKHRoaXMpLmZpbmQoJy50cmlhbmd1bG8nKS5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKCc+IGEnKS53aWR0aCgpIC8gMiAtIDE0XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICQoJy5zdWJtZW51JykuaGlkZSgpO1xyXG4gICAgICAgICAgJCgnLmFyZWEtYWN0aXZhJykucmVtb3ZlKCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCQod2luZG93KS53aWR0aCgpIDw9IGFuY2hvTW9iaWxlKSB7XHJcbiAgICAgICAgJCgnbGkuZG93bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdvcGVuJykpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnb3BlbicpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJCgnbGkuZG93bicpLnJlbW92ZUNsYXNzKCdvcGVuJyk7XHJcbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ29wZW4nKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHNsaWRlcjogZnVuY3Rpb24gc2xpZGVyKCkge1xyXG4gICAgICB2YXIgc29uaWRvID0gJzxkaXYgY2xhc3M9XCJ2b2x1bWVuVmlkZW9cIiBpZD1cInZvbHVtZW5WaWRlb1wiPjwvZGl2Pic7XHJcbiAgICAgICQoJy5ibG9xdWUtc2xpZGVyLmZsZXhzbGlkZXInKS5hcHBlbmQoc29uaWRvKTtcclxuXHJcbiAgICAgIC8vU2xpZGVyIFByaW5jaXBhbFxyXG4gICAgICAkKCcuZmxleHNsaWRlci5ibG9xdWUtc2xpZGVyJykuZmxleHNsaWRlcih7XHJcbiAgICAgICAgY29udHJvbE5hdjogZmFsc2UsXHJcbiAgICAgICAgYW5pbWF0aW9uOiAnZmFkZScsXHJcbiAgICAgICAgcHJldlRleHQ6ICcnLFxyXG4gICAgICAgIG5leHRUZXh0OiAnJyxcclxuICAgICAgICB0b3VjaDogdHJ1ZSxcclxuICAgICAgICBzbGlkZXNob3c6IGZhbHNlLFxyXG4gICAgICAgIHN0YXJ0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBpZiAoJCgnLmJsb3F1ZS1zbGlkZXIuZmxleHNsaWRlciBpZnJhbWUnKS5pcyhcIjp2aXNpYmxlXCIpKSB7XHJcbiAgICAgICAgICAgIGlmcmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXItdmlkZW8gaWZyYW1lJyk7XHJcbiAgICAgICAgICAgIHBsYXllciA9IG5ldyBWaW1lby5QbGF5ZXIoaWZyYW1lKTtcclxuICAgICAgICAgICAgcGxheWVyLnNldFZvbHVtZSgwKTtcclxuXHJcbiAgICAgICAgICAgICQoJy52b2x1bWVuVmlkZW8nKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgaWYgKGFjdGl2YWRvID09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmFkbycpO1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLnNldFZvbHVtZSgxKVxyXG4gICAgICAgICAgICAgICAgYWN0aXZhZG8gPSB0cnVlO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdhY3RpdmFkbycpO1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLnNldFZvbHVtZSgwKVxyXG4gICAgICAgICAgICAgICAgYWN0aXZhZG8gPSBmYWxzZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICBpZiAoJCgnLmZsZXgtYWN0aXZlLXNsaWRlIC5jb250YWluZXItdmlkZW8nKS5pcyhcIjp2aXNpYmxlXCIpKSB7XHJcbiAgICAgICAgICAgICAgcGxheWVyLnBsYXkoKTtcclxuICAgICAgICAgICAgICAkKCcudm9sdW1lblZpZGVvJykuZmFkZUluKCk7XHJcblxyXG4gICAgICAgICAgICAgIHBsYXllci5vbignZW5kZWQnLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgJCgnLmJsb3F1ZS1zbGlkZXIuZmxleHNsaWRlcicpLmZsZXhzbGlkZXIoJ25leHQnKTtcclxuICAgICAgICAgICAgICAgICQoJy52b2x1bWVuVmlkZW8nKS5mYWRlT3V0KCk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBiZWZvcmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIGlmICgkKCcuZmxleC1hY3RpdmUtc2xpZGUgLmNvbnRhaW5lci12aWRlbycpLmxlbmd0aCA+PSAxKSB7XHJcbiAgICAgICAgICAgIHBsYXllci5wYXVzZSgpO1xyXG4gICAgICAgICAgICAkKCcudm9sdW1lblZpZGVvJykuZmFkZU91dCgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYWZ0ZXI6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIGlmICgkKCcuZmxleC1hY3RpdmUtc2xpZGUgLmNvbnRhaW5lci12aWRlbycpLmlzKFwiOnZpc2libGVcIikpIHtcclxuICAgICAgICAgICAgcGxheWVyLnBsYXkoKTtcclxuICAgICAgICAgICAgJCgnLnZvbHVtZW5WaWRlbycpLmZhZGVJbigpO1xyXG5cclxuICAgICAgICAgICAgcGxheWVyLm9uKCdlbmRlZCcsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgJCgnLmJsb3F1ZS1zbGlkZXIuZmxleHNsaWRlcicpLmZsZXhzbGlkZXIoJ25leHQnKTtcclxuICAgICAgICAgICAgICAkKCcudm9sdW1lblZpZGVvJykuZmFkZU91dCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gU2xpZGVyc1xyXG5cclxuICAgICAgJCgnLmJsb3F1ZS1zbGlkZXItaW50ZXJuYS5mbGV4c2xpZGVyJykuZmxleHNsaWRlcih7XHJcbiAgICAgICAgY29udHJvbE5hdjogdHJ1ZSxcclxuICAgICAgICBhbmltYXRpb246ICdmYWRlJyxcclxuICAgICAgICBwcmV2VGV4dDogJycsXHJcbiAgICAgICAgbmV4dFRleHQ6ICcnLFxyXG4gICAgICAgIHRvdWNoOiB0cnVlLFxyXG4gICAgICAgIHNsaWRlc2hvdzogZmFsc2VcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAkKCcuZmxleHNsaWRlcicpLmZsZXhzbGlkZXIoKTtcclxuXHJcbiAgICAgICQoJy5vd2wtY2Fyb3VzZWwnKS5vd2xDYXJvdXNlbCgpXHJcbiAgICB9LFxyXG5cclxuICAgIC8vIEhlYWRlciBcclxuICAgIGhlYWRlcjogZnVuY3Rpb24gaGVhZGVyKCkge1xyXG4gICAgICBpZiAoJChkb2N1bWVudCkuc2Nyb2xsVG9wKCkgPj0gMzApIHtcclxuICAgICAgICAkKCdoZWFkZXIuaGVhZGVyJykuYWRkQ2xhc3MoJ3RyYW5zZm9ybScpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICQoJ2hlYWRlci5oZWFkZXInKS5yZW1vdmVDbGFzcygndHJhbnNmb3JtJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vTWVudVxyXG5cclxuICAgICAgJChcIiNicmFuZC10eXBlXCIpLmNoYW5nZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIG1hcmNhID0gJCh0aGlzKS52YWwoKTtcclxuICAgICAgICB2YXIgcm9vbXMgPSAkKCcjbnVtYmVyLXJvb21zJykudmFsKCk7XHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgdXJsOiAnL2dldC9yZXNvcnRzJyxcclxuICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgXCJtYXJjYVwiOiBtYXJjYSxcclxuICAgICAgICAgICAgXCJyb29tc1wiOiByb29tcyxcclxuICAgICAgICAgICAgXCJsZ1wiOiBEcnVwYWwuc2V0dGluZ3MubWljZV9jb25maWcubGFuZ3VhZ2VcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgaWYgKGRhdGEgIT0gMCkge1xyXG4gICAgICAgICAgICAgICQoJyNmaWx0ZXItY29udGVudC1yZXNvcnRzJykuaHRtbChkYXRhKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnbm8gcmVzdWx0cycpXHJcbiAgICAgICAgICAgICAgJCgnI2ZpbHRlci1jb250ZW50LXJlc29ydHMnKS5odG1sKCdObyByZXN1bHRzJylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgICQoXCIjbnVtYmVyLXJvb21zIFwiKS5jaGFuZ2UoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBtYXJjYSA9ICQoJyNicmFuZC10eXBlJykudmFsKCk7XHJcbiAgICAgICAgdmFyIHJvb21zID0gJCh0aGlzKS52YWwoKTtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICB1cmw6ICcvZ2V0L3Jlc29ydHMnLFxyXG4gICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICBcIm1hcmNhXCI6IG1hcmNhLFxyXG4gICAgICAgICAgICBcInJvb21zXCI6IHJvb21zLFxyXG4gICAgICAgICAgICBcImxnXCI6IERydXBhbC5zZXR0aW5ncy5taWNlX2NvbmZpZy5sYW5ndWFnZVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICBpZiAoZGF0YSAhPSAwKSB7XHJcbiAgICAgICAgICAgICAgJCgnI2ZpbHRlci1jb250ZW50LXJlc29ydHMnKS5odG1sKGRhdGEpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICQoJyNmaWx0ZXItY29udGVudC1yZXNvcnRzJykuaHRtbCgnTm8gUmVzdWx0cycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIC8vIEZpbiBIZWFkZXIgXHJcblxyXG4gICAgLy8gU2VhcmNoIFxyXG4gICAgc2VhcmNoOiBmdW5jdGlvbiBzZWFyY2goKSB7XHJcbiAgICAgICQoJy5zZWFyY2gtcmVzdWx0cy5ub2RlLXJlc3VsdHMnKS5hZGRDbGFzcygnY29udGFpbmVyJyk7XHJcblxyXG4gICAgICAkKCcjYnVzY2Fkb3InKS5zdWJtaXQoZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIHZhbG9yID0gJCgnI3BhcmFtZXRyb19zZWFyY2gnKS52YWwoKTtcclxuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvc2VhcmNoL25vZGUvJyArIHZhbG9yO1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIC8vIEZpbiBTZWFyY2ggXHJcblxyXG5cclxuICAgIC8vIFNlbGVjdCBSZXNvcnRcclxuICAgIHNlbGVjdFJlc29ydDogZnVuY3Rpb24gc2VsZWN0UmVzb3J0KCkge1xyXG4gICAgICBNQy5mbi5jaGFuZ2VSZXNvcnQoJCgnLmluZm8tcmVzb3J0cyBsaScpWzBdKTtcclxuXHJcbiAgICAgIHZhciByZXNvcnRzID0gJCgnLmluZm8tcmVzb3J0cyBsaScpO1xyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc29ydHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgcmVzb3J0ID0gcmVzb3J0c1tpXTtcclxuICAgICAgICAkKCdzZWxlY3Qjc2VsZWN0LXJlc29ydCcpLmFwcGVuZCgnPG9wdGlvbiB2YWx1ZT1cIicgKyAkKHJlc29ydCkuYXR0cignZGF0YS1pZCcpICsgJ1wiPicgKyAkKHJlc29ydCkuZmluZCgnLnN1YnRpdHVsby1oMicpLmh0bWwoKSArICc8L29wdGlvbj4nKTtcclxuICAgICAgfVxyXG4gICAgICAkKCdzZWxlY3Qjc2VsZWN0LXJlc29ydCcpLnNlbGVjdHBpY2tlcigpO1xyXG5cclxuICAgICAgLyokKCdzZWxlY3Qjc2VsZWN0LXJlc29ydCcpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICBcdGlmKCQoZS5jdXJyZW50VGFyZ2V0KS52YWwoKSAhPSAnJyl7XHJcbiAgICAgIFx0XHRNQy5mbi5jaGFuZ2VSZXNvcnQoJCgnLmluZm8tcmVzb3J0cyBsaVtkYXRhLWlkPVwiJysgJChlLmN1cnJlbnRUYXJnZXQpLnZhbCgpICsnXCJdJykpO1xyXG4gICAgICBcdH1cclxuICAgICAgfSk7Ki9cclxuXHJcbiAgICAgIGpRdWVyeShcIiNzZWxlY3QtcmVzb3J0XCIpLmNoYW5nZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHRpZCA9IGpRdWVyeSh0aGlzKS52YWwoKTtcclxuICAgICAgICBqUXVlcnkuYWpheCh7XHJcbiAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgIHVybDogJy9zZW5kL3Jlc29ydCcsXHJcbiAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgIFwidGlkXCI6IHRpZFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhICE9IDApIHtcclxuICAgICAgICAgICAgICB2YXIgZGF0b3MgPSBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgICAgICAgICAgIGpRdWVyeSgnLmNvbnRlbnQtaW1nJykuaHRtbChkYXRvc1snY29udGVudC1pbWcnXSk7XHJcbiAgICAgICAgICAgICAgalF1ZXJ5KCcuYm94ID4gYScpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgIGpRdWVyeSgnLmJveCcpLmFwcGVuZChkYXRvc1snYm94J10pO1xyXG4gICAgICAgICAgICAgIGpRdWVyeSgnLmluZm8tcmVzb3J0cycpLmh0bWwoZGF0b3NbJ2luZm8tcmVzb3J0cyddKTtcclxuICAgICAgICAgICAgICBNQy5mbi5jaGFuZ2VSZXNvcnQoJCgnLmluZm8tcmVzb3J0cyBsaScpWzBdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH0sXHJcbiAgICAvLyBGaW4gU2VsZWN0IFJlc29ydFxyXG5cclxuICAgIGNoYW5nZVJlc29ydDogZnVuY3Rpb24gY2hhbmdlUmVzb3J0KHJlc29ydCkge1xyXG4gICAgICB2YXIgbmV3UmVzb3J0ID0gcmVzb3J0O1xyXG5cclxuICAgICAgJCgnLmZyb250IC5ibG9xdWUtY29udGVudDMgLmNvbnRlbnQtaW5mbyBoNCcpLmh0bWwoJChuZXdSZXNvcnQpLmZpbmQoJy5zdWJ0aXR1bG8taDQnKS5odG1sKCkpO1xyXG4gICAgICAkKCcuZnJvbnQgLmJsb3F1ZS1jb250ZW50MyAuY29udGVudC1pbmZvIGgyJykuaHRtbCgkKG5ld1Jlc29ydCkuZmluZCgnLnN1YnRpdHVsby1oMicpLmh0bWwoKSk7XHJcbiAgICAgICQoJy5mcm9udCAuYmxvcXVlLWNvbnRlbnQzIC5jb250ZW50LWluZm8gaDMnKS5odG1sKCQobmV3UmVzb3J0KS5maW5kKCcuc3VidGl0dWxvLWgzJykuaHRtbCgpKTtcclxuICAgICAgJCgnLmZyb250IC5ibG9xdWUtY29udGVudDMgLmNvbnRlbnQtaW5mbyBwJykuaHRtbCgkKG5ld1Jlc29ydCkuZmluZCgnLnRleHQnKS5odG1sKCkpO1xyXG4gICAgICAkKCcuZnJvbnQgLmJsb3F1ZS1jb250ZW50MyAuY29udGVudC1pbmZvIGEnKS5hdHRyKCdocmVmJywgJChuZXdSZXNvcnQpLmZpbmQoJy5saW5rJykuaHRtbCgpKTtcclxuICAgICAgJCgnLmZyb250IC5ibG9xdWUtY29udGVudDMgLmNvbnRlbnQtaW1nJykuY3NzKHtcclxuICAgICAgICAnYmFja2dyb3VuZC1pbWFnZSc6ICd1cmwoJyArICQobmV3UmVzb3J0KS5maW5kKCdpbWcuaW1nLWJhY2tncm91bmQnKS5hdHRyKCdzcmMnKSArICcpJ1xyXG4gICAgICB9KTtcclxuICAgIH0sXHJcblxyXG4gICAgZm9ybXNWYWxpZGF0aW9uOiBmdW5jdGlvbiBmb3Jtc1ZhbGlkYXRpb24oKSB7XHJcbiAgICAgICQoJyNuZXdzbGV0dGVyLWZvcm0nKS5wYXJzbGV5KCk7XHJcblxyXG4gICAgICAvLyBGb3JtXHJcbiAgICAgICQoJyNlZGl0LXN1Ym1pdHRlZC1mMy1jaXR5Jykuc2VsZWN0cGlja2VyKHtcclxuICAgICAgICB0aXRsZTogXCJDaXR5KlwiXHJcbiAgICAgIH0pO1xyXG4gICAgICAkKCcjZWRpdC1zdWJtaXR0ZWQtZjMtY291bnRyeScpLnNlbGVjdHBpY2tlcigpO1xyXG5cclxuICAgICAgJCgnI2VkaXQtc3VibWl0dGVkLWY0LXN0YXRlJykuc2VsZWN0cGlja2VyKHtcclxuICAgICAgICB0aXRsZTogXCJTdGF0ZSpcIlxyXG4gICAgICB9KTtcclxuICAgICAgJCgnI2VkaXQtc3VibWl0dGVkLWYxMi1wdXJwb3NlJykuc2VsZWN0cGlja2VyKHtcclxuICAgICAgICB0aXRsZTogXCJQdXJwb3NlIG9mIE1lZXRpbmdcIlxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgICQoJy5ibG9xdWUtZm9ybSAuZm9ybS1hY3Rpb25zJykuYWRkQ2xhc3MoJ3N1Ym1pdCcpO1xyXG5cclxuICAgICAgJCgnI2VkaXQtc3VibWl0dGVkLWYxMi1udW1iZXItcm9vbXMnKS5hdHRyKCdkYXRhLXBhcnNsZXktdHlwZScsICdudW1iZXInKTtcclxuICAgICAgJCgnI2VkaXQtc3VibWl0dGVkLWYxMi1udW1iZXItcm9vbXMnKS5hdHRyKCdtYXhsZW5ndGgnLCAnNScpO1xyXG4gICAgICAkKCcjZWRpdC1zdWJtaXR0ZWQtZjEyLW51bWJlci1yb29tcycpLmF0dHIoJ3JlcXVpcmVkJywgJ3JlcXVpcmVkJyk7XHJcbiAgICAgICQoJyNlZGl0LXN1Ym1pdHRlZC1mMTItbnVtYmVyLXJvb21zJykuYXR0cignZGF0YS1wYXJzbGV5LW1pbicsICcxJyk7XHJcblxyXG4gICAgICAkKCcjZWRpdC1zdWJtaXR0ZWQtZjctbnVtYmVyLW9mLWF0dGVuZGVlcycpLmF0dHIoJ2RhdGEtcGFyc2xleS10eXBlJywgJ251bWJlcicpO1xyXG4gICAgICAkKCcjZWRpdC1zdWJtaXR0ZWQtZjctbnVtYmVyLW9mLWF0dGVuZGVlcycpLmF0dHIoJ21heGxlbmd0aCcsICc1Jyk7XHJcbiAgICAgICQoJyNlZGl0LXN1Ym1pdHRlZC1mNy1udW1iZXItb2YtYXR0ZW5kZWVzJykuYXR0cigncmVxdWlyZWQnLCAncmVxdWlyZWQnKTtcclxuXHJcbiAgICAgICQoJyNlZGl0LXN1Ym1pdHRlZC1mMi1waG9uZScpLmF0dHIoJ2RhdGEtcGFyc2xleS10eXBlJywgJ251bWJlcicpO1xyXG4gICAgICAkKCcjZWRpdC1zdWJtaXR0ZWQtZjItcGhvbmUnKS5hdHRyKCdkYXRhLXBhcnNsZXktbWF4bGVuZ3RoJywgJzEwJyk7XHJcbiAgICAgICQoJyNlZGl0LXN1Ym1pdHRlZC1mMi1waG9uZScpLnJlbW92ZUF0dHIoJ21heGxlbmd0aCcpO1xyXG5cclxuXHJcbiAgICAgIGlmICgkKCdib2R5JykuaGFzQ2xhc3MoJ2kxOG4tZXMnKSkge1xyXG4gICAgICAgIGxhbiA9ICdlcydcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBsYW4gPSAnZW4nXHJcbiAgICAgIH1cclxuXHJcbiAgICAgICQoJy5kYXRlX2lucHV0cycpLmRhdGVwaWNrZXIoe1xyXG4gICAgICAgIGF1dG9jbG9zZTogdHJ1ZSxcclxuICAgICAgICBsYW5ndWFnZTogbGFuLFxyXG4gICAgICAgIGRpc2FibGVUb3VjaEtleWJvYXJkOiB0cnVlLFxyXG4gICAgICAgIGZvcm1hdDogJ3l5eXktbW0tZGQnLFxyXG4gICAgICAgIGltbWVkaWF0ZVVwZGF0ZXM6IHRydWUsXHJcbiAgICAgICAgc3RhcnREYXRlOiAndG9kYXknLFxyXG4gICAgICAgIGVuZERhdGU6ICcrMnknXHJcbiAgICAgIH0pLm9uKCdjaGFuZ2VEYXRlJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQuaWQgPT09ICdjaGVja19pbl9pbnB1dCcpIHtcclxuICAgICAgICAgIE1DLmZuLmNoZWNrSW5EYXRlKGV2ZW50KTtcclxuICAgICAgICAgIE1DLmZuLmNoZWNrT3V0RGF0ZShldmVudCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChldmVudC5jdXJyZW50VGFyZ2V0LmlkID09PSAnY2hlY2tfb3V0X2lucHV0Jykge1xyXG4gICAgICAgICAgY2hlY2tPdXQgPSBldmVudC5mb3JtYXQoJ3l5eXktbW0tZGQnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pLm9uKCdoaWRlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICgkKCcuY2hlY2tfaW5faW5wdXQnKS52YWwoKSA9PSAnJykge1xyXG4gICAgICAgICAgJCgnLmNoZWNrX291dF9pbnB1dCcpLnZhbCgnJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmICgkKCcuYmxvcXVlLWZvcm0gZm9ybScpLmlzKCc6dmlzaWJsZScpKSB7XHJcbiAgICAgICAgJCgnLmJsb3F1ZS1mb3JtIC53ZWJmb3JtLWNvbXBvbmVudC0tZjEwJykuYXBwZW5kKCc8ZGl2IGlkPVwiY29udGFpbmVyLWVycm9yLXJlc29ydHNcIj48L2Rpdj4nKTtcclxuICAgICAgICAkKCcuYmxvcXVlLWZvcm0gLndlYmZvcm0tY29tcG9uZW50LS1mMTAgI2VkaXQtc3VibWl0dGVkLWYxMC1yZXNvcnRzLTEnKS5hdHRyKCdkYXRhLXBhcnNsZXktbWluY2hlY2snLCAnMScpO1xyXG4gICAgICAgICQoJy5ibG9xdWUtZm9ybSAud2ViZm9ybS1jb21wb25lbnQtLWYxMCAjZWRpdC1zdWJtaXR0ZWQtZjEwLXJlc29ydHMtMScpLmF0dHIoJ2RhdGEtcGFyc2xleS1tYXhjaGVjaycsICczJyk7XHJcbiAgICAgICAgJCgnLmJsb3F1ZS1mb3JtIC53ZWJmb3JtLWNvbXBvbmVudC0tZjEwICNlZGl0LXN1Ym1pdHRlZC1mMTAtcmVzb3J0cy0xJykuYXR0cignZGF0YS1wYXJzbGV5LWVycm9ycy1jb250YWluZXInLCAnI2NvbnRhaW5lci1lcnJvci1yZXNvcnRzJyk7XHJcbiAgICAgICAgJCgnLmJsb3F1ZS1mb3JtIC53ZWJmb3JtLWNvbXBvbmVudC0tZjEwIC5mb3JtLWNoZWNrYm94JykuYXR0cignZGF0YS1wYXJzbGV5LW11bHRpcGxlJywgJ3Jlc29ydHMnKTtcclxuICAgICAgICAkKCcuYmxvcXVlLWZvcm0gLndlYmZvcm0tY29tcG9uZW50LS1mMTAgI2VkaXQtc3VibWl0dGVkLWYxMC1yZXNvcnRzLTEnKS5hdHRyKCdyZXF1aXJlZCcsICdyZXF1aXJlZCcpO1xyXG4gICAgICAgICQoJy5ibG9xdWUtZm9ybSBmb3JtJykucGFyc2xleSgpLm9uKCdmaWVsZDpzdWNjZXNzJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgdmFyIHNlbGVjdHMgPSAkKCcuYmxvcXVlLWZvcm0gZm9ybSBzZWxlY3QnKTtcclxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IHNlbGVjdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHNlbGVjdCA9IHNlbGVjdHNbaV07XHJcbiAgICAgICAgICAgIGlmICgkKHNlbGVjdCkuaGFzQ2xhc3MoJ3BhcnNsZXktZXJyb3InKSkge1xyXG4gICAgICAgICAgICAgICQoc2VsZWN0KS5zaWJsaW5ncygnYnV0dG9uJykuYWRkQ2xhc3MoJ3BhcnNsZXktZXJyb3InKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAkKHNlbGVjdCkuc2libGluZ3MoJ2J1dHRvbicpLnJlbW92ZUNsYXNzKCdwYXJzbGV5LWVycm9yJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJCgnI2VkaXQtc3VibWl0dGVkLWYxMC1yZXNvcnRzIC5mb3JtLXR5cGUtY2hlY2tib3gnKS5hZGRDbGFzcygnY29sLW1kLTYgY29sLXNtLTYgY29sLXhzLTEyJyk7XHJcblxyXG4gICAgICAvLyBGaWx0ZXJzXHJcbiAgICAgICQoJy5maWx0ZXJzIHNlbGVjdCcpLnNlbGVjdHBpY2tlcigpO1xyXG5cclxuICAgICAgLy8gTmV3c2xldHRlclxyXG5cclxuICAgICAgJCgnI25ld3NsZXR0ZXItZm9ybScpLnN1Ym1pdChmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICB2YXIgbWFpbCA9ICQoJyNlbWFpbF9uZXdzJykudmFsKCk7XHJcbiAgICAgICAgdmFyIGNoZWJveFRlcm1zID0gJCgnI2NoZWstdGVybXMnKS5pcygnOmNoZWNrZWQnKSA/IDEgOiAwO1xyXG4gICAgICAgIHZhciBjaGVib3hTaW5nID0gJCgnI2NoZWstc2luZycpLmlzKCc6Y2hlY2tlZCcpID8gMSA6IDA7XHJcbiAgICAgICAgalF1ZXJ5LmFqYXgoe1xyXG4gICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICB1cmw6ICcvc2VuZC9uZXdzbGV0dGVyJyxcclxuICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgXCJlbWFpbF9uZXdzbGV0dGVyXCI6IG1haWwsXHJcbiAgICAgICAgICAgIFwiY2hlYm94X1Rlcm1zXCI6IGNoZWJveFRlcm1zLFxyXG4gICAgICAgICAgICBcImNoZWJveF9zaW5nXCI6IGNoZWJveFNpbmdcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgJCgnI3Jlc3B1ZXN0YScpLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICAgICQoJyNuZXdzbGV0dGVyLWZvcm0nKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgICAgICAgICAgICQoJyNzdXNjcmliZS10aXRsZScpLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBUYWJsYSBcclxuXHJcbiAgICAgICQoJy5ibG9xdWUtdGFibGUgLnRhYmxlIHRib2R5IHRkLCAuYmxvcXVlLXRhYmxlIC50YWJsZSB0aGVhZCB0aCcpLmNzcyh7XHJcbiAgICAgICAgd2lkdGg6IDkwIC8gKCQoJy50YWJsZScpLmF0dHIoJ2RhdGEtY29sdW1uJykgLSAxKSArICclJ1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgICQoJy5ibG9xdWUtdGFibGUgLnRhYmxlIHRkIGEnKS5hcHBlbmQoJzxzcGFuPjwvc3Bhbj4nKTtcclxuICAgIH0sXHJcblxyXG4gICAgLy8gQ2hlY2sgaW4gZGF0ZVxyXG4gICAgY2hlY2tJbkRhdGU6IGZ1bmN0aW9uIGNoZWNrSW5EYXRlKGUpIHtcclxuXHJcbiAgICAgIHZhciBkYXRlSW4gPSAnJztcclxuXHJcbiAgICAgIGNoZWNrSW4gPSBlLmZvcm1hdCgneXl5eS1tbS1kZCcpO1xyXG4gICAgICBkYXRlSW4gPSAkKGUuY3VycmVudFRhcmdldCkuZGF0ZXBpY2tlcignZ2V0RGF0ZScsICcrMWQnKTtcclxuXHJcbiAgICAgICQoJy5jaGVja19pbl9pbnB1dCcpLmVhY2goZnVuY3Rpb24gKGkpIHtcclxuICAgICAgICAkKCcuY2hlY2tfaW5faW5wdXQnKS5lcShpKS52YWwoJyAnKS5kYXRlcGlja2VyKCd1cGRhdGUnLCAoJ3N0YXJ0RGF0ZScsIGRhdGVJbikpO1xyXG4gICAgICB9KTtcclxuICAgIH0sXHJcbiAgICAvLyBlbmQgQ2hlY2sgaW4gZGF0ZVxyXG5cclxuICAgIC8vIENoZWNrIG91dCBkYXRlXHJcbiAgICBjaGVja091dERhdGU6IGZ1bmN0aW9uIGNoZWNrT3V0RGF0ZShlKSB7XHJcbiAgICAgIHZhciBkYXRlT3V0ID0gJycsXHJcbiAgICAgICAgbWluRGF0ZSA9ICcnO1xyXG5cclxuICAgICAgZGF0ZU91dCA9ICQoZS5jdXJyZW50VGFyZ2V0KS5kYXRlcGlja2VyKCdnZXREYXRlJywgJysxZCcpO1xyXG5cclxuICAgICAgaWYgKCQoJy5ib29rX19mb3JtJykuaGFzQ2xhc3MoJ2lzLS1mbGlnaHQnKSkge1xyXG4gICAgICAgIGRhdGVPdXQuc2V0RGF0ZShkYXRlT3V0LmdldERhdGUoKSArIDcpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRhdGVPdXQuc2V0RGF0ZShkYXRlT3V0LmdldERhdGUoKSArIDUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBtaW5EYXRlID0gbmV3IERhdGUoZS5kYXRlLnZhbHVlT2YoKSk7XHJcbiAgICAgIG1pbkRhdGUuc2V0RGF0ZShtaW5EYXRlLmdldERhdGUoKSArIDEpO1xyXG5cclxuICAgICAgJCgnLmNoZWNrX291dF9pbnB1dCcpLmVhY2goZnVuY3Rpb24gKGkpIHtcclxuICAgICAgICAkKCcuY2hlY2tfb3V0X2lucHV0JykuZXEoaSkudmFsKCcgJykuZGF0ZXBpY2tlcignc2V0U3RhcnREYXRlJywgbWluRGF0ZSkuZGF0ZXBpY2tlcigndXBkYXRlJywgKCdzdGFydERhdGUnLCBkYXRlT3V0KSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY2hlY2tPdXQgPSAkKCcuY2hlY2tfb3V0X2lucHV0JykuZXEoMCkudmFsKCk7XHJcbiAgICB9LFxyXG4gICAgLy8gZW5kIENoZWNrIG91dCBkYXRlXHJcblxyXG4gICAgLy8gSW1hZ2VuZXMgRm9uZG9cclxuICAgIGltYWdlbmVzRm9uZG86IGZ1bmN0aW9uIGltYWdlbmVzRm9uZG8oKSB7XHJcbiAgICAgIHZhciBpbWFnZXMgPSAkKCcuaW1nLWJhY2tncm91bmQnKTtcclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbWFnZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgaW1hZ2UgPSBpbWFnZXNbaV07XHJcbiAgICAgICAgJChpbWFnZSkucGFyZW50KCkuY3NzKHtcclxuICAgICAgICAgICdiYWNrZ3JvdW5kLWltYWdlJzogJ3VybCgnICsgJChpbWFnZSkuYXR0cignc3JjJykgKyAnKSdcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgLy8gRmluIEltYWdlbmVzIEZvbmRvXHJcblxyXG4gICAgLy8gR2FsZXLDrWFzXHJcbiAgICBnYWxlcmlhczogZnVuY3Rpb24gZ2FsZXJpYXMoKSB7XHJcbiAgICAgICQoJy5ncmlkJykubWFzb25yeSh7XHJcbiAgICAgICAgaXRlbVNlbGVjdG9yOiAnLmdyaWQtaXRlbScsXHJcbiAgICAgICAgcGVyY2VudFBvc2l0aW9uOiB0cnVlXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgJChcIltkYXRhLWZhbmN5Ym94XVwiKS5mYW5jeWJveCh7XHJcbiAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICBidXR0b25zOiBbXHJcbiAgICAgICAgICAnY2xvc2UnXHJcbiAgICAgICAgXVxyXG4gICAgICB9KTtcclxuICAgIH0sXHJcbiAgICAvLyBGaW4gR2FsZXLDrWFzXHJcblxyXG4gICAgLy8gVGFic1xyXG4gICAgdGFiczogZnVuY3Rpb24gdGFicygpIHtcclxuICAgICAgaWYgKCQoJy5ibG9xdWUtdGFicycpLmlzKCc6dmlzaWJsZScpKSB7XHJcbiAgICAgICAgJCgnLmJsb3F1ZS10YWJzIGhlYWRlciB1bCBsaScpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICQodGhpcykucGFyZW50KCkuZmluZCgnbGknKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuXHJcbiAgICAgICAgICAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoJy5jb250YWluZXItdGFicyA+IGRpdicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICQodGhpcykucGFyZW50KCkucGFyZW50KCkucGFyZW50KCkuZmluZCgnLmNvbnRhaW5lci10YWJzJykuZmluZCgnLicgKyAkKHRoaXMpLmF0dHIoJ2RhdGEtbWVkaWEnKSkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cclxuICAgICAgICAgIHZhciBhbHRvID0gJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKCcuY29udGFpbmVyLXRhYnMnKS5maW5kKCcuJyArICQodGhpcykuYXR0cignZGF0YS1tZWRpYScpKS5vZmZzZXQoKS50b3A7XHJcblxyXG4gICAgICAgICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgYW5jaG9Nb2JpbGUpIHtcclxuICAgICAgICAgICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe1xyXG4gICAgICAgICAgICAgIHNjcm9sbFRvcDogYWx0b1xyXG4gICAgICAgICAgICB9LCA4MDApO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICQoJy5ncmlkJykubWFzb25yeSh7XHJcbiAgICAgICAgICAgIGl0ZW1TZWxlY3RvcjogJy5ncmlkLWl0ZW0nLFxyXG4gICAgICAgICAgICBwZXJjZW50UG9zaXRpb246IHRydWVcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICQoXCIuZmFuY3lib3hcIikuZmFuY3lib3goKTtcclxuXHJcbiAgICAgICAgICAkKCcuZmFuY3lib3gtbWVkaWEnKS5mYW5jeWJveCh7XHJcbiAgICAgICAgICAgIGhlbHBlcnM6IHtcclxuICAgICAgICAgICAgICBtZWRpYToge31cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCQoJy5ibG9xdWUtbWFjaCcpLmlzKCc6dmlzaWJsZScpKSB7XHJcbiAgICAgICAgJCgnLmJsb3F1ZS1tYWNoIHVsIGxpJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgJCgnLmJsb3F1ZS1tYWNoIHVsIGxpJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblxyXG4gICAgICAgICAgJCgnLmJveC1hbnN3ZXIgLnRyaWFuZ3VsbycpLmNzcyh7XHJcbiAgICAgICAgICAgIGxlZnQ6ICQodGhpcykub2Zmc2V0KCkubGVmdCArICQodGhpcykud2lkdGgoKSAvIDIgLSAzMVxyXG4gICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAkKCcuYm94LWFuc3dlcicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICQoJ3NlY3Rpb25bZGF0YS1pZD1cIicgKyAkKHRoaXMpLmF0dHIoJ2lkJykgKyAnXCJdJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICAvLyBGaW4gVGFic1xyXG5cclxuICAgIC8vIEdsb2JhbCBjbGljayBldmVudHNcclxuICAgIGNsaWNrRXZlbnRzOiBmdW5jdGlvbiBjbGlja0V2ZW50cygpIHtcclxuXHJcbiAgICAgICQoJy5pY29uLW1lbnUnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCgnLmNvbnRhaW5lci1oZWFkZXIgbmF2JykuYWRkQ2xhc3MoJ3JpZ2h0Jyk7XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICAkKCcjY2xvc2VNZW51Jykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoJy5jb250YWluZXItaGVhZGVyIG5hdicpLnJlbW92ZUNsYXNzKCdyaWdodCcpO1xyXG4gICAgICB9KVxyXG5cclxuICAgICAgJCgnLmNsb3NlLWJhY2snKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCgnLmNvbnRhaW5lci1oZWFkZXIgbmF2JykucmVtb3ZlQ2xhc3MoJ3JpZ2h0Jyk7XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICAkKFwiLmNvbGxhcHNlXCIpLm9uKFwiaGlkZS5icy5jb2xsYXBzZVwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCgnLnJlYWRfbW9yZSAubW9yZScpLnNob3coKTtcclxuICAgICAgICAkKCcucmVhZF9tb3JlIC5sZXNzJykuaGlkZSgpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgICQoXCIuY29sbGFwc2VcIikub24oXCJzaG93LmJzLmNvbGxhcHNlXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKCcucmVhZF9tb3JlIC5tb3JlJykuaGlkZSgpO1xyXG4gICAgICAgICQoJy5yZWFkX21vcmUgLmxlc3MnKS5zaG93KCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy9TZWFyY2hcclxuICAgICAgJCgnLnNlYXJjaF9kZXNrdG9wJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoJy5zZWFyY2hfaW5wdXQnKS5hZGRDbGFzcygndmlzaWJsZScpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgICQoJy5zZWFyY2hfaW5wdXQgLmNsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoJy5zZWFyY2hfaW5wdXQnKS5yZW1vdmVDbGFzcygndmlzaWJsZScpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgICQoJy5idG4tcGxhbm8zZCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZW5sYWNlID0gJCh0aGlzKS5hdHRyKCdkYXRhLXVybCcpO1xyXG4gICAgICAgIHZhciB0aXRsZSA9ICQodGhpcykuYXR0cignZGF0YS10aXRsZScpO1xyXG4gICAgICAgIE1DLmZuLlBvcHVwV2luZG93Q2VudGVyKGVubGFjZSwgdGl0bGUsIDExMTAsIDczNSlcclxuICAgICAgfSlcclxuXHJcbiAgICB9LFxyXG4gICAgLy8gZW5kIEdsb2JhbCBjbGljayBldmVudHNcclxuXHJcbiAgICBQb3B1cFdpbmRvd0NlbnRlcjogZnVuY3Rpb24gUG9wdXBXaW5kb3dDZW50ZXIoVVJMLCB0aXRsZSwgdywgaCkge1xyXG4gICAgICB2YXIgbGVmdCA9IChzY3JlZW4ud2lkdGggLyAyKSAtICh3IC8gMik7XHJcbiAgICAgIHZhciB0b3AgPSAoc2NyZWVuLmhlaWdodCAvIDIpIC0gKGggLyAyKTtcclxuICAgICAgdmFyIG5ld1dpbiA9IHdpbmRvdy5vcGVuKFVSTCwgdGl0bGUsICd0b29sYmFyPW5vLCBsb2NhdGlvbj1ubyxkaXJlY3Rvcmllcz1ubywgc3RhdHVzPW5vLCBtZW51YmFyPW5vLCBzY3JvbGxiYXJzPW5vLCByZXNpemFibGU9bm8sY29weWhpc3Rvcnk9bm8sIHdpZHRoPScgKyB3ICsgJywgICBoZWlnaHQ9JyArIGggKyAnLCB0b3A9JyArIHRvcCArICcsIGxlZnQ9JyArIGxlZnQpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyBHbG9iYWwgZXZlbnRzXHJcbiAgICBnbG9iYWxFdmVudHM6IGZ1bmN0aW9uIGdsb2JhbEV2ZW50cygpIHtcclxuICAgICAgTUMuZm4uY2xpY2tFdmVudHMoKTtcclxuICAgIH1cclxuICAgIC8vIGVuZCBHbG9iYWwgZXZlbnRzXHJcbiAgfVxyXG5cclxuICBNQy5kb2N1bWVudE9uUmVhZHkgPSB7XHJcbiAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgICBNQy5mbi5pbml0KCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgTUMuZG9jdW1lbnRPbkxvYWQgPSB7XHJcbiAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgICBpZiAoJCgnLmJveC1hbnN3ZXIgLnRyaWFuZ3VsbycpLmlzKFwiOnZpc2libGVcIikpIHtcclxuICAgICAgICAkKCcuYm94LWFuc3dlciAudHJpYW5ndWxvJykuY3NzKHtcclxuICAgICAgICAgIGxlZnQ6ICQoJy5ibG9xdWUtbWFjaCB1bCBsaS5hY3RpdmUnKS5vZmZzZXQoKS5sZWZ0ICsgJCgnLmJsb3F1ZS1tYWNoIHVsIGxpLmFjdGl2ZScpLndpZHRoKCkgLyAyIC0gMzFcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcblxyXG4gICAgICAkKCcuZ3JpZCcpLm1hc29ucnkoe1xyXG4gICAgICAgIGl0ZW1TZWxlY3RvcjogJy5ncmlkLWl0ZW0nLFxyXG4gICAgICAgIHBlcmNlbnRQb3NpdGlvbjogdHJ1ZVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgICQoXCJbZGF0YS1mYW5jeWJveF1cIikuZmFuY3lib3goe1xyXG4gICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgICAgYnV0dG9uczogW1xyXG4gICAgICAgICAgJ2Nsb3NlJ1xyXG4gICAgICAgIF1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgTUMuZG9jdW1lbnRPblJlc2l6ZSA9IHtcclxuICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA8PSBhbmNob01vYmlsZSkge1xyXG4gICAgICAgICQoJy5ibG9xdWUtYm9va2luZycpLnJlbW92ZUNsYXNzKCd2ZXJ0aWNhbCcpO1xyXG4gICAgICAgICQoJy5ibG9xdWUtYm9va2luZycpLnJlbW92ZUNsYXNzKCd2aXNpYmxlJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA8PSBhbmNob01vYmlsZSkge1xyXG4gICAgICAgICQoJy5ibG9xdWUtYm94ZXMgLmJveGVzLWltYWdlcycpLmFkZENsYXNzKCdvd2wtY2Fyb3VzZWwnKS5hZGRDbGFzcygnb3dsLXRoZW1lJyk7XHJcbiAgICAgICAgJCgnLmJsb3F1ZS1ib3hlcyAuYm94ZXMtaW1hZ2VzJykub3dsQ2Fyb3VzZWwoe1xyXG4gICAgICAgICAgaXRlbXM6IDEsXHJcbiAgICAgICAgICBtYXJnaW46IDAsXHJcbiAgICAgICAgICBuYXY6IGZhbHNlLFxyXG4gICAgICAgICAgZG90czogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICQoJy5ibG9xdWUtYm94ZXMgLmJveGVzLWltYWdlcycpLnJlbW92ZUNsYXNzKCdvd2wtY2Fyb3VzZWwnKS5yZW1vdmVDbGFzcygnb3dsLXRoZW1lJyk7XHJcbiAgICAgICAgJCgnLmJsb3F1ZS1ib3hlcyAuYm94ZXMtaW1hZ2VzJykub3dsQ2Fyb3VzZWwoJ2Rlc3Ryb3knKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCQoJy5ib3gtYW5zd2VyIC50cmlhbmd1bG8nKS5pcyhcIjp2aXNpYmxlXCIpKSB7XHJcbiAgICAgICAgJCgnLmJveC1hbnN3ZXIgLnRyaWFuZ3VsbycpLmNzcyh7XHJcbiAgICAgICAgICBsZWZ0OiAkKCcuYmxvcXVlLW1hY2ggdWwgbGkuYWN0aXZlJykub2Zmc2V0KCkubGVmdCArICQoJy5ibG9xdWUtbWFjaCB1bCBsaS5hY3RpdmUnKS53aWR0aCgpIC8gMiAtIDMxXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIE1DLmRvY3VtZW50T25TY3JvbGwgPSB7XHJcbiAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkge1xyXG5cclxuICAgICAgaWYgKCQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpID49IDMwKSB7XHJcbiAgICAgICAgJCgnaGVhZGVyLmhlYWRlcicpLmFkZENsYXNzKCd0cmFuc2Zvcm0nKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAkKCdoZWFkZXIuaGVhZGVyJykucmVtb3ZlQ2xhc3MoJ3RyYW5zZm9ybScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIE1DLnJ1biA9IHtcclxuICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICAgICQoZG9jdW1lbnQpLm9uKCdyZWFkeScsIE1DLmRvY3VtZW50T25SZWFkeS5pbml0KTtcclxuICAgICAgJCh3aW5kb3cpLm9uKCdsb2FkJywgTUMuZG9jdW1lbnRPbkxvYWQuaW5pdCk7XHJcbiAgICAgICQod2luZG93KS5vbigncmVzaXplJywgTUMuZG9jdW1lbnRPblJlc2l6ZS5pbml0KTtcclxuICAgICAgJCh3aW5kb3cpLm9uKCdzY3JvbGwnLCBNQy5kb2N1bWVudE9uU2Nyb2xsLmluaXQpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIE1DLnJ1bi5pbml0KCk7XHJcblxyXG59KSgkKTtcclxuIl19
